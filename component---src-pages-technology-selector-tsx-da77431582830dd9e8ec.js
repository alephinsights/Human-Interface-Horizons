(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Egox:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var i=n("KQm4"),a=n("q1tI"),c=n.n(a),l=n("RyyV"),r=n("Wbzz"),s=n("tkFw"),o=n("x+Gp"),u=function(e){e.groupTitle;var t=e.index,n=e.title,i=e.isActive,a=e.onClickSideBarItem;return c.a.createElement("button",{key:""+n+t,className:"sidebar-button",onClick:function(){return a({title:n},i)},style:i?{border:"0.5px solid black",color:"white",backgroundColor:"#ce2256"}:{border:"0.5px solid black",backgroundColor:"white",color:"black"}},n)};function d(e){var t=e.sideBarItemTitles,n=e.disruptiveDictionary,i=e.sensoryDictionary,a=e.environmentDictionary,l=e.onClickSideBarItem;return c.a.createElement("div",null,c.a.createElement("div",{className:"sidebar-container"},c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Disruptiveness"),Object.keys(n).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"disruptiveness",onClickSideBarItem:l})}))),c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Sensory"),Object.keys(i).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"sensory",onClickSideBarItem:l})}))),c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Environment"),Object.keys(a).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"environment",onClickSideBarItem:l})})))))}function m(e){var t=e.name,n=e.active,i=e.onPress,a=n?"family-card-button active":"family-card-button";return c.a.createElement("p",{className:a,onClick:i},t)}function h(e){var t=e.family,n=e.familyId,i=e.allChallenges,a=e.onFamilyPress,l=e.isFamilyActive,r=e.cardHeaderHeight,s=e.onChallengePress,o=e.activeChallengeIds,u=e.onSetCardHeaderHeight;return c.a.createElement("div",{className:l?"family-card active":"family-card"},c.a.createElement("h4",{id:n,className:l?"active":"",ref:function(e){return e?u(e):null},onClick:function(){return null==a?void 0:a(n)},style:{height:r||"fit-content"}},t.familyName),t.challenges.map((function(e){var t=o.some((function(t){return t===e}));return c.a.createElement(m,{key:e,active:t,name:i[e].challenge,onPress:function(){return s(e,n)}})})))}function f(e){var t=e.allChallenges,n=e.activeFamilies,i=e.cardHeaderHeight,a=e.onChallengePress,l=e.activeChallenges,r=e.challengeFamilies,s=e.onSetCardHeaderHeight,o=e.onChallengeFamilyPress;return c.a.createElement("div",{className:"family-card-grid-wrapper"},Object.keys(r).map((function(e){return c.a.createElement(h,{key:e,familyId:e,allChallenges:t,family:r[e],onChallengePress:a,cardHeaderHeight:i,activeChallengeIds:l,onFamilyPress:o,onSetCardHeaderHeight:s,isFamilyActive:!!n.includes(e)})})))}function v(e){var t=e.onClickSubmit,n=e.isSubmitDisabled,i=e.buttonText;return c.a.createElement("button",{disabled:n,className:"submit-button-tech-page",onClick:function(){return t()},style:{opacity:n?.3:1}},i)}function g(e){var t=e.onClickReset,n=e.isResetDisabled,i=e.buttonText;return c.a.createElement("button",{disabled:n,className:"reset-button-tech-page",onClick:function(){return t()},style:{opacity:n?.3:1}},i)}var b=n("YECO"),y=function(e){var t=e.technology,n=e.isTechDisabled,i=e.isExplicitlyEnabled,a=e.isExplicitlyDisabled,l=e.onPress,r=e.onPressLink,s="tech-container-icon"+(n?" disabled":"")+(a?" explicit":"")+(i?" explicit-enabled":""),o=Object(b.i)(e.technologyImage);return c.a.createElement("div",{className:"tech-container",key:t.id},c.a.createElement("div",{onClick:function(){return l(t.id)},"data-tip":t.title||"","data-iscapture":"true"},c.a.createElement(b.a,{className:s,image:o,alt:t.title})),c.a.createElement("button",{className:"tech-click-button",onClick:function(){return r(t.slug)}},t.title))};function p(e){return c.a.createElement("div",{className:"tech-grid-wrapper"},e.technologies.map((function(t){var n=e.technologyImages.find((function(e){return e.name===t.icon}));return n?c.a.createElement(y,{key:t.id,onPress:e.onClickTechItem,onPressLink:e.onClickTechLink,technology:t,technologyImage:n,isExplicitlyDisabled:e.explicitlyDisabledIds.includes(t.id),isExplicitlyEnabled:e.explicitlyEnabledIds.includes(t.id),isTechDisabled:!e.enabledTechIds.some((function(e){return e===t.id}))}):null})))}n("avF4");var E=n("1Phs"),C=n("n3bB");function k(e){var t=arguments,n=e.data,u=Object(a.useState)({}),m=u[0],h=u[1],b=Object(a.useState)([]),y=b[0],k=b[1],O=Object(a.useState)(0),j=O[0],w=O[1],T=Object(a.useState)([]),I=T[0],N=T[1],S=Object(a.useState)([]),x=S[0],H=S[1],D=Object(a.useState)([]),P=D[0],F=D[1],B=Object(a.useState)({titles:[]}),L=B[0],_=B[1],A="undefined"!=typeof window?window.innerHeight:1920,R="undefined"!=typeof window?window.innerWidth:1080,z=c.a.useState({height:A,width:R}),W=z[0],J=z[1],q=function(e,n){var i;return function(){clearTimeout(i),i=setTimeout((function(n){i=null,e.apply(n,t),window.location.reload()}),n)}};Object(a.useEffect)((function(){var e=q((function(){J({height:window.innerHeight,width:window.innerWidth})}),200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[W]);var G=5,K=2,M=Object(l.e)(n.allTechnologiesCsv),Q=Object(l.c)(n.allCognitiveChallengeFamiliesCsv,n.allCognitiveChallengesCsv),U=Object(l.d)(n.allCognitiveChallengesCsv),V=Object(l.e)(e.data.technologyImages),Y={},$={},X={},Z=Object(l.e)(e.data.allChallengeTechnologyLinkagesCsv);M.map((function(e){var t=Z.filter((function(t){return t.Technology_Name===e.title&&"1"===t.Linked_0_1})).map((function(e){var t=Object.values(U).find((function(t){return t.challenge===e.Individual_Cognitive_Challenge_Short_Name}));return null==t?void 0:t.id}));t&&t.forEach((function(t){t&&Object(l.a)(U,t,e.id)}));var n=e.disruptiveness.match(/[^:]+/g);n&&n.forEach((function(t){Y[t]||(Y[t]={associatedTech:[]}),Y[t].associatedTech.push(e.id)}));var i=e.sensory.match(/[^:]+/g);i&&i.forEach((function(t){$[t]||($[t]={associatedTech:[]}),$[t].associatedTech.push(e.id)}));var a=e.environment.match(/[^:]+/g);a&&a.forEach((function(t){X[t]||(X[t]={associatedTech:[]}),X[t].associatedTech.push(e.id)}))}));var ee=Object(E.b)(L.titles,I,U,Object.keys(Y),Object.keys($),Object.keys(X),M,P,x),te=ee.length>=K&&ee.length<=G,ne=I.length>0||L.titles.length>0||ee.length>0,ie=function(e,t){var n=Q[t].challenges,a=I.includes(e),c=0,l=[];a?(l=I.filter((function(t){return t!==e})),N(l)):(l=[].concat(Object(i.a)(I),[e]),N(l)),l.map((function(e){return n.includes(e)?c++:c}));var r=c===n.length,s=y.includes(t);r?s||k([].concat(Object(i.a)(y),[t])):s&&k(y.filter((function(e){return e!==t})))},ae=function(e){y.some((function(t){return t===e}))?k(y.filter((function(t){return t!==e}))):k([].concat(Object(i.a)(y),[e]));var t=Q[e].challenges,n=t.filter((function(e){return!I.some((function(t){return t===e}))}));n.length>0?N((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))})):N((function(e){return e.filter((function(e){return!t.some((function(t){return e===t}))}))}))},ce=function(e){var t=L.titles.some((function(t){return t===e.title}))?Object(E.c)(L.titles,e.title):Object(E.a)(L.titles,e.title);_({titles:t})},le=function(e){var t=ee.includes(e),n=P.includes(e),a=x.includes(e);L.titles.length>0||I.length>0?n||a||!t?n&&!a?F(P.filter((function(t){return t!==e}))):H(t?x.filter((function(t){return t!==e})):[].concat(Object(i.a)(x),[e])):F([].concat(Object(i.a)(P),[e])):H(a?x.filter((function(t){return t!==e})):[].concat(Object(i.a)(x),[e]))},re=function(e){return window.open(Object(r.withPrefix)("/technology/"+e),"_blank")},se=function(){H([]),F([]),_({titles:[]}),N([])},oe=function(){var e="";ee.forEach((function(t){e=e.concat(t+",")})),e=e.replace(/\,$/,""),Object(r.navigate)("/technology-comparison-visualisation?technologies="+e)},ue=function(e){var t;e.id&&e.clientHeight&&(m[e.id]||h(Object.assign({},m,((t={})[e.id]={height:e.clientHeight},t))))};if(!j&&m[1]){var de=0;Object.keys(m).map((function(e){m[e].height>de&&(de=m[e].height)})),w(de)}return c.a.createElement(o.a,{"title-":"Aleph HMI",pageHeader:"Technology Events Timeline"},c.a.createElement(s.a,{title:"Tech Selector"}),c.a.createElement(C.a,{hasNavbar:!0}),c.a.createElement("div",{className:"tech-selector-guidance"},"Use the filters below to select technologies that are relevant to different defence-specific challenges, or that are associated with different levels of disruptiveness, sensory modalities or operational environments. Once you have five or fewer technologies selected, submit to generate a series of comparative technology timeline visualisations."),c.a.createElement("div",{className:"tech-selector-container"},c.a.createElement("div",{className:"tech-selector-main"},c.a.createElement(f,{allChallenges:U,activeFamilies:y,cardHeaderHeight:j,activeChallenges:I,onChallengePress:ie,challengeFamilies:Q,onSetCardHeaderHeight:ue,onChallengeFamilyPress:ae}),c.a.createElement(p,{technologies:M,onClickTechItem:le,onClickTechLink:re,technologyImages:V,enabledTechIds:ee,explicitlyEnabledIds:x,explicitlyDisabledIds:P})),c.a.createElement(d,{sideBarItemTitles:L,sensoryDictionary:$,onClickSideBarItem:ce,disruptiveDictionary:Y,environmentDictionary:X})),c.a.createElement("div",{className:"tech-page-buttons"},c.a.createElement(v,{onClickSubmit:oe,isSubmitDisabled:!te,buttonText:"Submit"}),c.a.createElement(g,{onClickReset:se,isResetDisabled:!ne,buttonText:"Reset"})))}},avF4:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-technology-selector-tsx-da77431582830dd9e8ec.js.map