(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Egox:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return C}));var i=n("KQm4"),a=n("q1tI"),c=n.n(a),l=n("RyyV"),r=n("Wbzz"),s=n("tkFw"),o=n("x+Gp"),u=function(e){e.groupTitle;var t=e.index,n=e.title,i=e.isActive,a=e.onClickSideBarItem;return c.a.createElement("button",{key:""+n+t,className:"sidebar-button",onClick:function(){return a({title:n},i)},style:i?{border:"0.5px solid black",backgroundColor:"#fff"}:{border:"0.5px solid transparent",backgroundColor:"#929292"}},n)};function d(e){var t=e.sideBarItemTitles,n=e.disruptiveDictionary,i=e.sensoryDictionary,a=e.environmentDictionary,l=e.onClickSideBarItem;return c.a.createElement("div",null,c.a.createElement("div",{className:"sidebar-container"},c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Disruptiveness"),Object.keys(n).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"disruptiveness",onClickSideBarItem:l})}))),c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Sensory"),Object.keys(i).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"sensory",onClickSideBarItem:l})}))),c.a.createElement("div",{className:"sidebar-section"},c.a.createElement("div",{className:"sidebar-header"},"Environment"),Object.keys(a).map((function(e,n){var i=t.titles.includes(e);return c.a.createElement(u,{index:n,key:""+e+n,isActive:i,title:e,groupTitle:"environment",onClickSideBarItem:l})})))))}function m(e){var t=e.name,n=e.active,i=e.onPress,a=n?"family-card-button active":"family-card-button";return c.a.createElement("p",{className:a,onClick:i},t)}function h(e){var t=e.family,n=e.familyId,i=e.allChallenges,a=e.onFamilyPress,l=e.isFamilyActive,r=e.cardHeaderHeight,s=e.onChallengePress,o=e.activeChallengeIds,u=e.onSetCardHeaderHeight;return c.a.createElement("div",{className:l?"family-card active":"family-card"},c.a.createElement("h4",{id:n,className:l?"active":"",ref:function(e){return e?u(e):null},onClick:function(){return null==a?void 0:a(n)},style:{height:r||"fit-content"}},t.familyName),t.challenges.map((function(e){var t=o.some((function(t){return t===e}));return c.a.createElement(m,{key:e,active:t,name:i[e].challenge,onPress:function(){return s(e,n)}})})))}function f(e){var t=e.allChallenges,n=e.activeFamilies,i=e.cardHeaderHeight,a=e.onChallengePress,l=e.activeChallenges,r=e.challengeFamilies,s=e.onSetCardHeaderHeight,o=e.onChallengeFamilyPress;return c.a.createElement("div",{className:"family-card-grid-wrapper"},Object.keys(r).map((function(e){return c.a.createElement(h,{key:e,familyId:e,allChallenges:t,family:r[e],onChallengePress:a,cardHeaderHeight:i,activeChallengeIds:l,onFamilyPress:o,onSetCardHeaderHeight:s,isFamilyActive:!!n.includes(e)})})))}function v(e){var t=e.onClickSubmit,n=e.isSubmitDisabled,i=e.buttonText;return c.a.createElement("button",{disabled:n,className:"submit-button-tech-page",onClick:function(){return t()},style:{opacity:n?.3:1}},i)}function g(e){var t=e.onClickReset,n=e.isResetDisabled,i=e.buttonText;return c.a.createElement("button",{disabled:n,className:"reset-button-tech-page",onClick:function(){return t()},style:{opacity:n?.3:1}},i)}var b=n("YECO"),y=function(e){var t=e.technology,n=e.isTechDisabled,i=e.isExplicitlyEnabled,a=e.isExplicitlyDisabled,l=e.onPress,r=e.onPressLink,s="tech-container-icon"+(n?" disabled":"")+(a?" explicit":"")+(i?" explicit-enabled":""),o=Object(b.i)(e.technologyImage);return c.a.createElement("div",{className:"tech-container",key:t.id},c.a.createElement("div",{onClick:function(){return l(t.id)},"data-tip":t.title||"","data-iscapture":"true"},c.a.createElement(b.a,{className:s,image:o,alt:t.title})),c.a.createElement("button",{className:"tech-click-button",onClick:function(){return r(t.slug)}},t.title))};function p(e){return c.a.createElement("div",{className:"tech-grid-wrapper"},e.technologies.map((function(t){var n=e.technologyImages.find((function(e){return e.name===t.icon}));return n?c.a.createElement(y,{key:t.id,onPress:e.onClickTechItem,onPressLink:e.onClickTechLink,technology:t,technologyImage:n,isExplicitlyDisabled:e.explicitlyDisabledIds.includes(t.id),isExplicitlyEnabled:e.explicitlyEnabledIds.includes(t.id),isTechDisabled:!e.enabledTechIds.some((function(e){return e===t.id}))}):null})))}n("avF4");var E=n("1Phs");function C(e){var t=arguments,n=e.data,u=Object(a.useState)({}),m=u[0],h=u[1],b=Object(a.useState)([]),y=b[0],C=b[1],k=Object(a.useState)(0),O=k[0],j=k[1],w=Object(a.useState)([]),T=w[0],I=w[1],S=Object(a.useState)([]),N=S[0],x=S[1],H=Object(a.useState)([]),D=H[0],P=H[1],F=Object(a.useState)({titles:[]}),B=F[0],L=F[1],_="undefined"!=typeof window?window.innerHeight:1920,A="undefined"!=typeof window?window.innerWidth:1080,R=c.a.useState({height:_,width:A}),z=R[0],W=R[1],J=function(e,n){var i;return function(){clearTimeout(i),i=setTimeout((function(n){i=null,e.apply(n,t),window.location.reload()}),n)}};Object(a.useEffect)((function(){var e=J((function(){W({height:window.innerHeight,width:window.innerWidth})}),200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[z]);var q=5,G=2,K=Object(l.e)(n.allTechnologiesCsv),M=Object(l.c)(n.allCognitiveChallengeFamiliesCsv,n.allCognitiveChallengesCsv),Q=Object(l.d)(n.allCognitiveChallengesCsv),U=Object(l.e)(e.data.technologyImages),V={},Y={},$={},X=Object(l.e)(e.data.allChallengeTechnologyLinkagesCsv);K.map((function(e){var t=X.filter((function(t){return t.Technology_Name===e.title&&"1"===t.Linked_0_1})).map((function(e){var t=Object.values(Q).find((function(t){return t.challenge===e.Individual_Cognitive_Challenge_Short_Name}));return null==t?void 0:t.id}));t&&t.forEach((function(t){t&&Object(l.a)(Q,t,e.id)}));var n=e.disruptiveness.match(/[^:]+/g);n&&n.forEach((function(t){V[t]||(V[t]={associatedTech:[]}),V[t].associatedTech.push(e.id)}));var i=e.sensory.match(/[^:]+/g);i&&i.forEach((function(t){Y[t]||(Y[t]={associatedTech:[]}),Y[t].associatedTech.push(e.id)}));var a=e.environment.match(/[^:]+/g);a&&a.forEach((function(t){$[t]||($[t]={associatedTech:[]}),$[t].associatedTech.push(e.id)}))}));var Z=Object(E.b)(B.titles,T,Q,Object.keys(V),Object.keys(Y),Object.keys($),K,D,N),ee=Z.length>=G&&Z.length<=q,te=T.length>0||B.titles.length>0||Z.length>0,ne=function(e,t){var n=M[t].challenges,a=T.includes(e),c=0,l=[];a?(l=T.filter((function(t){return t!==e})),I(l)):(l=[].concat(Object(i.a)(T),[e]),I(l)),l.map((function(e){return n.includes(e)?c++:c}));var r=c===n.length,s=y.includes(t);r?s||C([].concat(Object(i.a)(y),[t])):s&&C(y.filter((function(e){return e!==t})))},ie=function(e){y.some((function(t){return t===e}))?C(y.filter((function(t){return t!==e}))):C([].concat(Object(i.a)(y),[e]));var t=M[e].challenges,n=t.filter((function(e){return!T.some((function(t){return t===e}))}));n.length>0?I((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))})):I((function(e){return e.filter((function(e){return!t.some((function(t){return e===t}))}))}))},ae=function(e){var t=B.titles.some((function(t){return t===e.title}))?Object(E.c)(B.titles,e.title):Object(E.a)(B.titles,e.title);L({titles:t})},ce=function(e){var t=Z.includes(e),n=D.includes(e),a=N.includes(e);B.titles.length>0||T.length>0?n||a||!t?n&&!a?P(D.filter((function(t){return t!==e}))):x(t?N.filter((function(t){return t!==e})):[].concat(Object(i.a)(N),[e])):P([].concat(Object(i.a)(D),[e])):x(a?N.filter((function(t){return t!==e})):[].concat(Object(i.a)(N),[e]))},le=function(e){return window.open(Object(r.withPrefix)("/technology/"+e),"_blank")},re=function(){x([]),P([]),L({titles:[]}),I([])},se=function(){var e="";Z.forEach((function(t){e=e.concat(t+",")})),e=e.replace(/\,$/,""),Object(r.navigate)("/technology-comparison-visualisation?technologies="+e)},oe=function(e){var t;e.id&&e.clientHeight&&(m[e.id]||h(Object.assign({},m,((t={})[e.id]={height:e.clientHeight},t))))};if(!O&&m[1]){var ue=0;Object.keys(m).map((function(e){m[e].height>ue&&(ue=m[e].height)})),j(ue)}return c.a.createElement(o.a,{"title-":"Aleph HMI",pageHeader:"Technology Events Timeline"},c.a.createElement(s.a,{title:"Tech Selector"}),c.a.createElement("div",{className:"tech-selector-guidance"},"Use the filters below to select technologies that are relevant to different defence-specific challenges, or that are associated with different levels of disruptiveness, sensory modalities or operational environments. Once you have five or fewer technologies selected, submit to generate a series of comparative technology timeline visualisations."),c.a.createElement("div",{className:"tech-selector-container"},c.a.createElement("div",{className:"tech-selector-main"},c.a.createElement(f,{allChallenges:Q,activeFamilies:y,cardHeaderHeight:O,activeChallenges:T,onChallengePress:ne,challengeFamilies:M,onSetCardHeaderHeight:oe,onChallengeFamilyPress:ie}),c.a.createElement(p,{technologies:K,onClickTechItem:ce,onClickTechLink:le,technologyImages:U,enabledTechIds:Z,explicitlyEnabledIds:N,explicitlyDisabledIds:D})),c.a.createElement(d,{sideBarItemTitles:B,sensoryDictionary:Y,onClickSideBarItem:ae,disruptiveDictionary:V,environmentDictionary:$})),c.a.createElement("div",{className:"tech-page-buttons"},c.a.createElement(v,{onClickSubmit:se,isSubmitDisabled:!ee,buttonText:"Submit"}),c.a.createElement(g,{onClickReset:re,isResetDisabled:!te,buttonText:"Reset"})))}},avF4:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-technology-selector-tsx-611c74b6b1d96e05c30e.js.map